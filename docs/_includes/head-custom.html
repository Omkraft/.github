<script type="module">
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";

  mermaid.initialize({
    startOnLoad: false,
    theme: "base",
    themeVariables: {
      /* Omkraft brand */
      primaryColor: "#3A98F1",
      primaryTextColor: "#ffffff",
      primaryBorderColor: "#05004E",
      lineColor: "#05004E",

      /* Flowchart specifics */
      nodeBorder: "#05004E",
      nodeTextColor: "#05004E",
      clusterBorder: "#05004E",
      clusterBkg: "#F6F9FF",
      edgeLabelBackground: "#ffffff",

      /* Typography */
      fontFamily:
        "-apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif",
      fontSize: "14px"
    }
  });

  document.addEventListener("DOMContentLoaded", () => {
    const blocks = document.querySelectorAll("pre code.language-mermaid");
    if (!blocks.length) return;

    mermaid.run({ nodes: blocks });
  });
</script>

<style>
  /* ðŸ”’ FINAL, CORRECT CENTERING FOR CAYMAN + MERMAID */
  pre:has(> .mermaid) {
    display: flex;
    justify-content: center;
  }

  pre:has(> .mermaid) .mermaid {
    width: fit-content;
  }

  pre:has(> .mermaid) svg {
    max-width: 100%;
    height: auto;
  }
</style>
